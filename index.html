<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BAFA F√∂rdermittelcheck | TBCS Beratung</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* TBCS Brand Colors from Logo */
            --primary-green: #3AAA35;
            --light-green: #7BC143;
            --dark-green: #2D7A2A;
            --accent-green: #5BC044;
            
            /* Neutral Colors */
            --text-dark: #1a1a1a;
            --text-gray: #666666;
            --bg-light: #f8f9fa;
            --bg-white: #ffffff;
            --border-color: #e0e0e0;
            
            /* Status Colors */
            --success-green: #4caf50;
            --warning-yellow: #ffc107;
            --error-red: #f44336;
            --info-blue: #2196f3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
            animation: fadeInDown 0.8s ease-out;
        }

        .logo {
            max-width: 300px;
            height: auto;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: clamp(2rem, 4vw, 2.5rem);
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--dark-green);
            letter-spacing: -0.5px;
        }

        .header .subtitle {
            font-size: 1.1rem;
            color: var(--text-gray);
            font-weight: 400;
        }

        .progress-container {
            background: var(--bg-white);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-light);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-green), var(--light-green));
            border-radius: 10px;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 15px rgba(58, 170, 53, 0.4);
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            font-size: 0.75rem;
            color: var(--text-gray);
            position: relative;
        }

        .progress-step.active {
            color: var(--primary-green);
            font-weight: 600;
        }

        .progress-step.completed {
            color: var(--primary-green);
        }

        .card {
            background: var(--bg-white);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 35px rgba(58, 170, 53, 0.15);
        }

        .step {
            display: none;
            animation: fadeIn 0.6s ease-out;
        }

        .step.active {
            display: block;
        }

        .step-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--dark-green);
            margin-bottom: 10px;
            letter-spacing: -0.5px;
        }

        .step-description {
            color: var(--text-gray);
            margin-bottom: 30px;
            font-size: 0.95rem;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 0.95rem;
        }

        input[type="text"],
        input[type="email"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 14px 18px;
            background: var(--bg-white);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-dark);
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="number"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(58, 170, 53, 0.1);
        }

        select option {
            background: var(--bg-white);
            color: var(--text-dark);
        }

        .input-hint {
            color: var(--text-gray);
            font-size: 0.85rem;
            margin-top: 5px;
            display: block;
        }

        .radio-group {
            display: grid;
            gap: 12px;
        }

        .radio-option {
            position: relative;
            cursor: pointer;
        }

        .radio-option input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .radio-option label {
            display: block;
            padding: 18px 20px;
            background: var(--bg-light);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 400;
        }

        .radio-option input[type="radio"]:checked + label {
            background: rgba(58, 170, 53, 0.08);
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(58, 170, 53, 0.1);
        }

        .radio-option label:hover {
            border-color: var(--light-green);
            background: rgba(91, 192, 68, 0.05);
        }

        .radio-option label .title {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 4px;
            display: block;
        }

        .radio-option label .description {
            color: var(--text-gray);
            font-size: 0.85rem;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 20px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            min-width: 20px;
            accent-color: var(--primary-green);
            cursor: pointer;
            margin-top: 3px;
        }

        .checkbox-group label {
            margin-bottom: 0;
            cursor: pointer;
            font-weight: 400;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 16px 32px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: none;
            letter-spacing: 0.3px;
            font-family: 'Inter', sans-serif;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-green), var(--light-green));
            color: white;
            box-shadow: 0 4px 15px rgba(58, 170, 53, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(58, 170, 53, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: var(--bg-white);
            color: var(--primary-green);
            border: 2px solid var(--primary-green);
        }

        .btn-secondary:hover {
            background: rgba(58, 170, 53, 0.05);
        }

        .result-box {
            background: linear-gradient(135deg, rgba(58, 170, 53, 0.08), rgba(91, 192, 68, 0.05));
            border: 2px solid var(--primary-green);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }

        .result-amount {
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--primary-green);
            margin: 20px 0;
            text-shadow: 0 2px 10px rgba(58, 170, 53, 0.2);
        }

        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .detail-item {
            background: var(--bg-white);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .detail-label {
            color: var(--text-gray);
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .detail-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-green);
        }

        .alert {
            padding: 18px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
            gap: 15px;
            border-left: 4px solid;
        }

        .alert-info {
            background: rgba(33, 150, 243, 0.08);
            border-left-color: var(--info-blue);
            color: #1565c0;
        }

        .alert-success {
            background: rgba(76, 175, 80, 0.08);
            border-left-color: var(--success-green);
            color: #2e7d32;
        }

        .alert-warning {
            background: rgba(255, 152, 0, 0.08);
            border-left-color: var(--warning-yellow);
            color: #ef6c00;
        }

        .alert-error {
            background: rgba(244, 67, 54, 0.08);
            border-left-color: var(--error-red);
            color: #c62828;
        }

        .info-box {
            background: rgba(58, 170, 53, 0.05);
            border-left: 4px solid var(--primary-green);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .info-box strong {
            color: var(--dark-green);
        }

        .warning-box {
            background: rgba(255, 152, 0, 0.08);
            border-left: 4px solid var(--warning-yellow);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .warning-box strong {
            color: #ef6c00;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }

            .card {
                padding: 25px 20px;
            }

            .header h1 {
                font-size: 1.75rem;
            }

            .button-group {
                flex-direction: column;
            }

            .result-amount {
                font-size: 2.5rem;
            }

            .progress-steps {
                font-size: 0.65rem;
            }
        }

        .footer-note {
            text-align: center;
            color: var(--text-gray);
            font-size: 0.85rem;
            margin-top: 40px;
            padding: 20px;
            background: var(--bg-white);
            border-radius: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <svg class="logo" viewBox="0 0 600 150" xmlns="http://www.w3.org/2000/svg">
                <!-- Hexagon with arrow -->
                <defs>
                    <linearGradient id="greenGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#7BC143;stop-opacity:1" />
                        <stop offset="50%" style="stop-color:#3AAA35;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#2D7A2A;stop-opacity:1" />
                    </linearGradient>
                </defs>
                
                <!-- Simplified hexagon icon -->
                <path d="M 40 50 L 70 35 L 100 50 L 100 80 L 70 95 L 40 80 Z" fill="url(#greenGradient)" opacity="0.7"/>
                <path d="M 50 50 L 75 37 L 100 50 L 100 75 L 75 88 L 50 75 Z" fill="url(#greenGradient)"/>
                
                <!-- Arrow -->
                <path d="M 85 45 L 105 55 L 115 45 M 105 55 L 105 75" stroke="#7BC143" stroke-width="4" fill="none" stroke-linecap="round"/>
                
                <!-- Text -->
                <text x="140" y="70" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="#1a1a1a">Thomas Berg</text>
                <text x="140" y="95" font-family="Arial, sans-serif" font-size="20" fill="#3AAA35" letter-spacing="2">Consulting & Service</text>
            </svg>
            
            <h1>BAFA F√∂rdermittelcheck</h1>
            <p class="subtitle">Pr√ºfen Sie in wenigen Minuten Ihren F√∂rderanspruch</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <div class="progress-steps">
                <div class="progress-step active" id="step-indicator-1">Unternehmen</div>
                <div class="progress-step" id="step-indicator-2">Beratung</div>
                <div class="progress-step" id="step-indicator-3">Kosten</div>
                <div class="progress-step" id="step-indicator-4">Ergebnis</div>
                <div class="progress-step" id="step-indicator-5">Kontakt</div>
            </div>
        </div>

        <div class="card">
            <!-- Step 1: Company Type & Industry -->
            <div class="step active" id="step1">
                <h2 class="step-title">Schritt 1: Unternehmen & Branche</h2>
                <p class="step-description">Grundlegende Informationen zu Ihrem Unternehmen</p>

                <div class="form-group">
                    <label>In welcher Branche sind Sie t√§tig? *</label>
                    <select id="industry" required>
                        <option value="">-- Bitte w√§hlen --</option>
                        <optgroup label="‚úÖ F√∂rderf√§hige Branchen">
                            <option value="handwerk">Handwerk (Elektro, Sanit√§r, Tischlerei, etc.)</option>
                            <option value="produktion">Produktion & Fertigung</option>
                            <option value="einzelhandel">Einzelhandel & E-Commerce</option>
                            <option value="gastronomie">Gastronomie & Hotellerie</option>
                            <option value="dienstleistung">Dienstleistungen (z.B. Geb√§udereinigung, Sicherheit)</option>
                            <option value="it-software">IT & Software-Entwicklung</option>
                            <option value="marketing-agentur">Marketing & Werbeagenturen</option>
                            <option value="immobilien">Immobilienverwaltung & -vermittlung</option>
                            <option value="transport">Transport & Logistik</option>
                            <option value="gesundheit-medizin">Gesundheitswesen (√Ñrzte, Zahn√§rzte, Therapeuten)</option>
                            <option value="ingenieur">Ingenieurb√ºros</option>
                            <option value="architektur">Architektur & Bauplanung</option>
                            <option value="andere-foerderbar">Andere f√∂rderf√§hige Branche</option>
                        </optgroup>
                        <optgroup label="‚úó Ausgeschlossene Branchen">
                            <option value="beratung">Unternehmensberatung / Wirtschaftsberatung</option>
                            <option value="steuerberatung">Steuerberatung</option>
                            <option value="rechtsberatung">Rechtsberatung / Anwaltskanzlei / Notariat</option>
                            <option value="wirtschaftspruefung">Wirtschaftspr√ºfung / Buchpr√ºfung</option>
                            <option value="insolvenz">Insolvenzverwaltung</option>
                            <option value="landwirtschaft">Landwirtschaft (Prim√§rerzeugung)</option>
                            <option value="fischerei">Fischerei & Aquakultur</option>
                            <option value="gemeinnuetzig">Gemeinn√ºtzige Organisation / Verein</option>
                            <option value="kirche">Kirchliche Einrichtung / Religionsgemeinschaft</option>
                            <option value="oeffentlich">√ñffentliche Einrichtung</option>
                        </optgroup>
                    </select>
                    <span class="input-hint">‚ö† Bestimmte Branchen sind von der BAFA-F√∂rderung ausgeschlossen</span>
                </div>

                <div class="form-group">
                    <label>Welche Rechtsform hat Ihr Unternehmen? *</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="form1" name="legalForm" value="einzelunternehmen">
                            <label for="form1">
                                <span class="title">Einzelunternehmen / Freiberufler</span>
                                <span class="description">Gewerbetreibende, Solo-Selbstst√§ndige</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="form2" name="legalForm" value="personengesellschaft">
                            <label for="form2">
                                <span class="title">Personengesellschaft (GbR, OHG, KG)</span>
                                <span class="description">Gesellschaften mehrerer Partner</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="form3" name="legalForm" value="kapitalgesellschaft">
                            <label for="form3">
                                <span class="title">Kapitalgesellschaft (GmbH, UG, AG)</span>
                                <span class="description">Juristische Personen des Privatrechts</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="form4" name="legalForm" value="gemeinnuetzig">
                            <label for="form4">
                                <span class="title">Gemeinn√ºtzige Organisation / Stiftung</span>
                                <span class="description">‚úó Nicht f√∂rderf√§hig</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Unternehmensgr√∂√üe (Mitarbeiter) *</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="size1" name="companySize" value="bis-10">
                            <label for="size1">
                                <span class="title">Bis 10 Mitarbeiter</span>
                                <span class="description">Kleinstunternehmen</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="size2" name="companySize" value="11-50">
                            <label for="size2">
                                <span class="title">11 - 50 Mitarbeiter</span>
                                <span class="description">Kleines Unternehmen</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="size3" name="companySize" value="51-250">
                            <label for="size3">
                                <span class="title">51 - 250 Mitarbeiter</span>
                                <span class="description">Mittleres Unternehmen</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="size4" name="companySize" value="ueber-250">
                            <label for="size4">
                                <span class="title">√úber 250 Mitarbeiter</span>
                                <span class="description">‚úó Nicht als KMU f√∂rderf√§hig</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Jahresumsatz (letztes Gesch√§ftsjahr) *</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="revenue1" name="revenue" value="bis-2mio">
                            <label for="revenue1">
                                <span class="title">Bis 2 Mio. ‚Ç¨</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="revenue2" name="revenue" value="2-10mio">
                            <label for="revenue2">
                                <span class="title">2 - 10 Mio. ‚Ç¨</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="revenue3" name="revenue" value="10-50mio">
                            <label for="revenue3">
                                <span class="title">10 - 50 Mio. ‚Ç¨</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="revenue4" name="revenue" value="ueber-50mio">
                            <label for="revenue4">
                                <span class="title">√úber 50 Mio. ‚Ç¨</span>
                                <span class="description">‚úó Nicht als KMU f√∂rderf√§hig</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Wie lange existiert Ihr Unternehmen bereits? *</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="age1" name="companyAge" value="unter-1">
                            <label for="age1">
                                <span class="title">Unter 1 Jahr</span>
                                <span class="description">Informationsgespr√§ch erforderlich</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="age2" name="companyAge" value="1-2">
                            <label for="age2">
                                <span class="title">1 - 2 Jahre</span>
                                <span class="description">Jungunternehmen (h√∂here F√∂rderung m√∂glich)</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="age3" name="companyAge" value="ueber-2">
                            <label for="age3">
                                <span class="title">√úber 2 Jahre</span>
                                <span class="description">Etabliertes Unternehmen</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="nextStep()">Weiter ‚Üí</button>
                </div>
            </div>

            <!-- Step 2: Consulting Topic -->
            <div class="step" id="step2">
                <h2 class="step-title">Schritt 2: Beratungsbedarf</h2>
                <p class="step-description">Wof√ºr ben√∂tigen Sie Beratung?</p>

                <div class="form-group">
                    <label>Hauptthema der Beratung *</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="topic1" name="consultingTopic" value="digitalisierung">
                            <label for="topic1">
                                <span class="title">Digitalisierung & IT-Strategie</span>
                                <span class="description">Digitale Prozesse, Tools, Systeme einf√ºhren</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="topic2" name="consultingTopic" value="marketing">
                            <label for="topic2">
                                <span class="title">Marketing & Sichtbarkeit</span>
                                <span class="description">SEO, Online-Marketing, Markenaufbau</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="topic3" name="consultingTopic" value="prozesse">
                            <label for="topic3">
                                <span class="title">Prozessoptimierung & Qualit√§tsmanagement</span>
                                <span class="description">Abl√§ufe verbessern, QM-System aufbauen (ISO 9001, etc.)</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="topic4" name="consultingTopic" value="strategie">
                            <label for="topic4">
                                <span class="title">Strategie & Gesch√§ftsmodell</span>
                                <span class="description">Gesch√§ftsmodellentwicklung, Neuausrichtung</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="topic5" name="consultingTopic" value="nachfolge">
                            <label for="topic5">
                                <span class="title">Unternehmensnachfolge</span>
                                <span class="description">√úbergabeplanung, Nachfolgebegleitung</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="topic6" name="consultingTopic" value="fachkraefte">
                            <label for="topic6">
                                <span class="title">Fachkr√§ftesicherung & Personal</span>
                                <span class="description">Mitarbeitergewinnung, -bindung, HR-Prozesse</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="topic7" name="consultingTopic" value="finanzen">
                            <label for="topic7">
                                <span class="title">Finanzmanagement & Controlling</span>
                                <span class="description">Liquidit√§t, Kennzahlen, Controlling-Systeme</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="topic8" name="consultingTopic" value="nachhaltigkeit">
                            <label for="topic8">
                                <span class="title">Nachhaltigkeit & Klimaschutz</span>
                                <span class="description">Ressourcenschonung, CO2-Reduktion, gr√ºne Produkte</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="topic9" name="consultingTopic" value="sonstiges">
                            <label for="topic9">
                                <span class="title">Sonstiges</span>
                                <span class="description">Andere wirtschaftliche oder organisatorische Themen</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>‚úó Nicht f√∂rderf√§hig sind:</strong><br>
                    ‚Ä¢ Vermittlungst√§tigkeiten<br>
                    ‚Ä¢ √úberwiegend Rechts- und Versicherungsfragen<br>
                    ‚Ä¢ Steuerberatung, Buchf√ºhrung, Jahresabschl√ºsse<br>
                    ‚Ä¢ Gutachterliche Stellungnahmen<br>
                    ‚Ä¢ √úberwiegend F√∂rdermittelberatung<br>
                    ‚Ä¢ Seminare, Workshops, Gruppenveranstaltungen
                </div>

                <div class="form-group">
                    <label>Haben Sie bereits BAFA-F√∂rderung in Anspruch genommen? *</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="prev1" name="previousFunding" value="nein">
                            <label for="prev1">
                                <span class="title">Nein, noch nie</span>
                                <span class="description">Noch keine BAFA-F√∂rderung erhalten</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="prev2" name="previousFunding" value="ja-dieses-jahr-einmal">
                            <label for="prev2">
                                <span class="title">Ja, einmal in diesem Jahr</span>
                                <span class="description">1 weitere F√∂rderung in diesem Jahr m√∂glich</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="prev3" name="previousFunding" value="ja-dieses-jahr-zweimal">
                            <label for="prev3">
                                <span class="title">Ja, bereits zweimal in diesem Jahr</span>
                                <span class="description">‚úó Jahresmaximum erreicht</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="prev4" name="previousFunding" value="ja-gesamt-5mal">
                            <label for="prev4">
                                <span class="title">Ja, insgesamt bereits 5 mal seit 2023</span>
                                <span class="description">‚úó Gesamtmaximum erreicht</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="prevStep()">‚Üê Zur√ºck</button>
                    <button class="btn btn-primary" onclick="nextStep()">Weiter ‚Üí</button>
                </div>
            </div>

            <!-- Step 3: Cost Estimation -->
            <div class="step" id="step3">
                <h2 class="step-title">Schritt 3: Kostenplanung</h2>
                <p class="step-description">Wie hoch sind die geplanten Beratungskosten?</p>

                <div class="info-box">
                    <strong>üí° Wichtige Informationen:</strong><br>
                    ‚Ä¢ Maximale F√∂rdersumme: <strong>3.500 ‚Ç¨</strong> pro Beratung<br>
                    ‚Ä¢ Maximale Beratungsdauer: <strong>5 Tage</strong><br>
                    ‚Ä¢ Antrag muss <strong>VOR</strong> Beratungsbeginn gestellt werden<br>
                    ‚Ä¢ Beratungsvertrag darf erst NACH Zusage geschlossen werden
                </div>

                <div class="form-group">
                    <label>Gesch√§tzte Beratungskosten (Netto in ‚Ç¨) *</label>
                    <input type="number" id="consultingCost" placeholder="z.B. 5000" min="0" step="100">
                    <span class="input-hint">
                        Durchschnittliche Beratungskosten liegen zwischen 3.000 ‚Ç¨ und 8.000 ‚Ç¨
                    </span>
                </div>

                <div class="form-group">
                    <label>Wo befindet sich Ihre Betriebsst√§tte? *</label>
                    <select id="location">
                        <option value="">-- Bitte w√§hlen --</option>
                        <optgroup label="Alte Bundesl√§nder (50% F√∂rderung)">
                            <option value="west">Baden-W√ºrttemberg</option>
                            <option value="west">Bayern</option>
                            <option value="west">Berlin</option>
                            <option value="west">Bremen</option>
                            <option value="west">Hamburg</option>
                            <option value="west">Hessen</option>
                            <option value="ost">Niedersachsen (Region L√ºneburg: 80%)</option>
                            <option value="west">Nordrhein-Westfalen</option>
                            <option value="ost">Rheinland-Pfalz (Region Trier: 80%)</option>
                            <option value="west">Saarland</option>
                            <option value="ost">Sachsen (Region Leipzig: 50%)</option>
                            <option value="west">Schleswig-Holstein</option>
                        </optgroup>
                        <optgroup label="Neue Bundesl√§nder (80% F√∂rderung)">
                            <option value="ost">Brandenburg</option>
                            <option value="ost">Mecklenburg-Vorpommern</option>
                            <option value="ost">Sachsen (au√üer Region Leipzig)</option>
                            <option value="ost">Sachsen-Anhalt</option>
                            <option value="ost">Th√ºringen</option>
                        </optgroup>
                    </select>
                    <span class="input-hint">
                        Die F√∂rderh√∂he variiert je nach Standort (50% oder 80%)
                    </span>
                </div>

                <div class="form-group">
                    <label>Sind Sie vorsteuerabzugsberechtigt? *</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="vat1" name="vatDeductible" value="ja">
                            <label for="vat1">
                                <span class="title">Ja (Regelbesteuerung)</span>
                                <span class="description">F√∂rderung auf Netto-Betrag</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="vat2" name="vatDeductible" value="nein">
                            <label for="vat2">
                                <span class="title">Nein (Kleinunternehmer ¬ß 19 UStG)</span>
                                <span class="description">F√∂rderung auf Brutto-Betrag (ab 01.01.2025)</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="prevStep()">‚Üê Zur√ºck</button>
                    <button class="btn btn-primary" onclick="calculateResult()">Ergebnis berechnen ‚Üí</button>
                </div>
            </div>

            <!-- Step 4: Result -->
            <div class="step" id="step4">
                <h2 class="step-title">Ihr F√∂rderergebnis</h2>
                <p class="step-description">Basierend auf Ihren Angaben</p>

                <div id="resultContent"></div>

                <div class="alert alert-success" style="margin-top: 20px;">
                    <span style="font-size: 1.5rem;">‚úì</span>
                    <div>
                        <strong>Interesse an einer gef√∂rderten Beratung?</strong><br>
                        Nehmen Sie Kontakt √ºber das Kontaktformular auf meiner Homepage auf ‚Äì ich melde mich zeitnah bei Ihnen f√ºr ein kostenfreies Erstgespr√§ch.
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="resetCalculator()">‚Üê Neu berechnen</button>
                </div>
            </div>
        </div>

        <div class="footer-note">
            <strong>‚ÑπÔ∏è¬è Rechtlicher Hinweis:</strong> Dies ist eine unverbindliche Ersteinsch√§tzung. Die tats√§chliche F√∂rderh√∂he wird vom BAFA nach Pr√ºfung Ihres Antrags festgelegt. Die F√∂rderrichtlinie gilt bis 31.12.2026.
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 4;
        const formData = {};

        // Excluded industries based on BAFA guidelines
        const excludedIndustries = [
            'beratung', 'steuerberatung', 'rechtsberatung', 'wirtschaftspruefung',
            'insolvenz', 'landwirtschaft', 'fischerei', 'gemeinnuetzig', 'kirche', 'oeffentlich'
        ];

        function updateProgress() {
            const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // Update step indicators
            for (let i = 1; i <= totalSteps; i++) {
                const indicator = document.getElementById(`step-indicator-${i}`);
                if (i < currentStep) {
                    indicator.classList.add('completed');
                    indicator.classList.remove('active');
                } else if (i === currentStep) {
                    indicator.classList.add('active');
                    indicator.classList.remove('completed');
                } else {
                    indicator.classList.remove('active', 'completed');
                }
            }
        }

        function nextStep() {
            const currentStepElement = document.getElementById(`step${currentStep}`);
            
            // Validate current step
            if (!validateStep(currentStep)) {
                return;
            }

            // Save form data
            saveStepData(currentStep);

            // Move to next step
            currentStepElement.classList.remove('active');
            currentStep++;
            document.getElementById(`step${currentStep}`).classList.add('active');
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function prevStep() {
            const currentStepElement = document.getElementById(`step${currentStep}`);
            currentStepElement.classList.remove('active');
            currentStep--;
            document.getElementById(`step${currentStep}`).classList.add('active');
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function validateStep(step) {
            if (step === 1) {
                const industry = document.getElementById('industry').value;
                const legalForm = document.querySelector('input[name="legalForm"]:checked');
                const companySize = document.querySelector('input[name="companySize"]:checked');
                const revenue = document.querySelector('input[name="revenue"]:checked');
                const companyAge = document.querySelector('input[name="companyAge"]:checked');
                
                if (!industry || !legalForm || !companySize || !revenue || !companyAge) {
                    alert('Bitte f√ºllen Sie alle Pflichtfelder aus.');
                    return false;
                }

                // Check excluded industries
                if (excludedIndustries.includes(industry)) {
                    let message = 'Leider ist Ihre Branche von der BAFA-F√∂rderung ausgeschlossen.\n\n';
                    
                    if (industry === 'beratung' || industry === 'steuerberatung' || industry === 'rechtsberatung' || industry === 'wirtschaftspruefung' || industry === 'insolvenz') {
                        message += 'Unternehmen der Beratungsbranche (Unternehmensberatung, Steuerberatung, Rechtsberatung, Wirtschaftspr√ºfung, Insolvenzverwaltung) sind gem√§√ü ¬ß 3.2 der F√∂rderrichtlinie nicht antragsberechtigt.';
                    } else if (industry === 'landwirtschaft' || industry === 'fischerei') {
                        message += 'Unternehmen aus Landwirtschaft (Prim√§rerzeugung), Fischerei und Aquakultur sind gem√§√ü EU-Verordnung 2023/2831 von der De-minimis-F√∂rderung ausgeschlossen.';
                    } else if (industry === 'gemeinnuetzig' || industry === 'kirche' || industry === 'oeffentlich') {
                        message += 'Gemeinn√ºtzige Organisationen, Stiftungen, kirchliche und √∂ffentliche Einrichtungen sind gem√§√ü ¬ß 3.2 der F√∂rderrichtlinie nicht antragsberechtigt.';
                    }
                    
                    message += '\n\nBei Fragen zur F√∂rderf√§higkeit kontaktieren Sie mich gerne f√ºr eine individuelle Pr√ºfung.';
                    alert(message);
                    return false;
                }

                // Check for medical professions special rules
                if (industry === 'gesundheit-medizin') {
                    alert('‚ö† Wichtiger Hinweis f√ºr medizinische Berufe:\n\nF√ºr √Ñrzte, Zahn√§rzte, Psychotherapeuten und Heilpraktiker werden nur Beratungen zur Einf√ºhrung oder Anpassung eines Qualit√§tssicherungssystems gef√∂rdert.\n\nBitte w√§hlen Sie im n√§chsten Schritt entsprechend "Prozessoptimierung & Qualit√§tsmanagement" als Beratungsthema.');
                }

                // Check company size
                if (companySize.value === 'ueber-250') {
                    alert('Leider sind Unternehmen mit mehr als 250 Mitarbeitern nicht als KMU f√∂rderf√§hig.\n\nDie BAFA-F√∂rderung richtet sich ausschlie√ülich an kleine und mittlere Unternehmen (KMU) gem√§√ü EU-Definition.');
                    return false;
                }

                // Check revenue
                if (revenue.value === 'ueber-50mio') {
                    alert('Leider sind Unternehmen mit einem Jahresumsatz √ºber 50 Mio. ‚Ç¨ nicht als KMU f√∂rderf√§hig.\n\nDie BAFA-F√∂rderung richtet sich ausschlie√ülich an kleine und mittlere Unternehmen (KMU) gem√§√ü EU-Definition.');
                    return false;
                }

                // Check legal form
                if (legalForm.value === 'gemeinnuetzig') {
                    alert('Gemeinn√ºtzige Organisationen und Stiftungen sind gem√§√ü ¬ß 3.2 der F√∂rderrichtlinie nicht antragsberechtigt.');
                    return false;
                }

                // Info for young companies
                if (companyAge.value === 'unter-1') {
                    alert('‚ÑπÔ∏è¬è Information f√ºr Jungunternehmen:\n\nUnternehmen im ersten Jahr nach Gr√ºndung m√ºssen vor Antragstellung ein kostenloses Informationsgespr√§ch mit einem Regionalpartner f√ºhren.\n\nIch unterst√ºtze Sie gerne bei der Organisation dieses Gespr√§chs.');
                }

                return true;
            }

            if (step === 2) {
                const consultingTopic = document.querySelector('input[name="consultingTopic"]:checked');
                const previousFunding = document.querySelector('input[name="previousFunding"]:checked');
                
                if (!consultingTopic || !previousFunding) {
                    alert('Bitte beantworten Sie alle Fragen.');
                    return false;
                }

                // Check medical profession restriction
                if (formData.industry === 'gesundheit-medizin' && consultingTopic.value !== 'prozesse') {
                    alert('‚ö† Einschr√§nkung f√ºr medizinische Berufe:\n\nF√ºr √Ñrzte, Zahn√§rzte, Psychotherapeuten und Heilpraktiker werden gem√§√ü ¬ß 2.1 der F√∂rderrichtlinie nur Beratungen zur Einf√ºhrung oder Anpassung eines Qualit√§tssicherungssystems gef√∂rdert.\n\nBitte w√§hlen Sie "Prozessoptimierung & Qualit√§tsmanagement" als Beratungsthema.');
                    return false;
                }

                if (previousFunding.value === 'ja-dieses-jahr-zweimal') {
                    alert('Sie haben bereits 2 F√∂rderungen im laufenden Jahr erhalten.\n\nPro Jahr sind maximal 2 F√∂rderungen m√∂glich (¬ß 5.2 der F√∂rderrichtlinie). Sie k√∂nnen im n√§chsten Jahr wieder einen Antrag stellen.');
                    return false;
                }

                if (previousFunding.value === 'ja-gesamt-5mal') {
                    alert('Sie haben bereits 5 F√∂rderungen seit Inkrafttreten der F√∂rderrichtlinie (01.01.2023) erhalten.\n\nInsgesamt sind maximal 5 F√∂rderungen bis 31.12.2026 m√∂glich (¬ß 5.2 der F√∂rderrichtlinie).');
                    return false;
                }

                return true;
            }

            if (step === 3) {
                const consultingCost = document.getElementById('consultingCost').value;
                const location = document.getElementById('location').value;
                const vatDeductible = document.querySelector('input[name="vatDeductible"]:checked');
                
                if (!consultingCost || consultingCost <= 0 || !location || !vatDeductible) {
                    alert('Bitte f√ºllen Sie alle Felder aus.');
                    return false;
                }

                if (consultingCost < 500) {
                    if (!confirm('Die gesch√§tzten Beratungskosten erscheinen sehr niedrig. Eine professionelle Unternehmensberatung kostet typischerweise zwischen 3.000 ‚Ç¨ und 8.000 ‚Ç¨.\n\nM√∂chten Sie trotzdem fortfahren?')) {
                        return false;
                    }
                }

                return true;
            }

            return true;
        }

        function saveStepData(step) {
            if (step === 1) {
                formData.industry = document.getElementById('industry').value;
                formData.legalForm = document.querySelector('input[name="legalForm"]:checked').value;
                formData.companySize = document.querySelector('input[name="companySize"]:checked').value;
                formData.revenue = document.querySelector('input[name="revenue"]:checked').value;
                formData.companyAge = document.querySelector('input[name="companyAge"]:checked').value;
            }

            if (step === 2) {
                formData.consultingTopic = document.querySelector('input[name="consultingTopic"]:checked').value;
                formData.previousFunding = document.querySelector('input[name="previousFunding"]:checked').value;
            }

            if (step === 3) {
                formData.consultingCost = parseFloat(document.getElementById('consultingCost').value);
                formData.location = document.getElementById('location').value;
                formData.vatDeductible = document.querySelector('input[name="vatDeductible"]:checked').value;
            }
        }

        function calculateResult() {
            if (!validateStep(3)) {
                return;
            }
            saveStepData(3);

            // Determine funding rate based on location and company age
            let fundingRate = formData.location === 'ost' ? 0.80 : 0.50;
            const maxFundingBase = 3500;

            // Calculate maximum fundable amount
            const maxFundableAmount = maxFundingBase / fundingRate;

            // Calculate actual funding
            const requestedAmount = formData.consultingCost;
            const fundableAmount = Math.min(requestedAmount, maxFundableAmount);
            const fundingAmount = Math.round(fundableAmount * fundingRate);
            const actualFundingAmount = Math.min(fundingAmount, maxFundingBase);
            const ownContribution = Math.round(requestedAmount - actualFundingAmount);

            // Get location name
            const locationSelect = document.getElementById('location');
            const locationName = locationSelect.options[locationSelect.selectedIndex].text;

            // Get funding rate display
            const fundingRatePercent = Math.round(fundingRate * 100);

            // Additional requirements
            let additionalRequirements = [];
            if (formData.companyAge === 'unter-1') {
                additionalRequirements.push('Informationsgespr√§ch mit Regionalpartner erforderlich');
            }
            if (formData.industry === 'gesundheit-medizin') {
                additionalRequirements.push('Nur Beratung zu Qualit√§tssicherungssystem f√∂rderf√§hig');
            }

            // Generate result HTML
            let resultHTML = `
                <div class="result-box">
                    <div class="alert alert-success">
                        <span style="font-size: 2rem;">üéâ</span>
                        <div>
                            <strong>Gl√ºckwunsch! Sie sind f√∂rderf√§hig.</strong><br>
                            Ihre gesch√§tzte BAFA-F√∂rderung:
                        </div>
                    </div>
                    
                    <div class="result-amount">bis zu ${actualFundingAmount.toLocaleString('de-DE')} ‚Ç¨</div>
                    
                    <div class="result-details">
                        <div class="detail-item">
                            <div class="detail-label">Beratungskosten (Netto)</div>
                            <div class="detail-value">${requestedAmount.toLocaleString('de-DE')} ‚Ç¨</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">F√∂rdersatz (${locationName})</div>
                            <div class="detail-value">${fundingRatePercent}%</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Ihr Eigenanteil</div>
                            <div class="detail-value">${ownContribution.toLocaleString('de-DE')} ‚Ç¨</div>
                        </div>
                    </div>
                </div>

                ${requestedAmount > maxFundableAmount ? `
                <div class="alert alert-warning">
                    <span style="font-size: 1.5rem;">‚ö†</span>
                    <div>
                        <strong>Hinweis:</strong> Ihre Beratungskosten √ºbersteigen den maximal f√∂rderf√§higen Betrag von ${maxFundableAmount.toLocaleString('de-DE')} ‚Ç¨. Die F√∂rderung wird daher auf maximal ${actualFundingAmount.toLocaleString('de-DE')} ‚Ç¨ begrenzt.
                    </div>
                </div>
                ` : ''}

                <div class="alert alert-info">
                    <span style="font-size: 1.5rem;">‚ÑπÔ∏è¬è</span>
                    <div>
                        <strong>Wichtige Rahmenbedingungen:</strong><br>
                        ‚Ä¢ Pro Jahr maximal 2 F√∂rderungen<br>
                        ‚Ä¢ Bis 31.12.2026 insgesamt maximal 5 F√∂rderungen<br>
                        ‚Ä¢ Maximale Beratungsdauer: 5 Tage<br>
                        ‚Ä¢ Antrag muss VOR Beratungsbeginn gestellt werden<br>
                        ‚Ä¢ F√∂rderung ist nicht r√ºckzahlbar (Zuschuss)<br>
                        ${additionalRequirements.length > 0 ? '‚Ä¢ ' + additionalRequirements.join('<br>‚Ä¢ ') : ''}
                    </div>
                </div>

                <div class="info-box">
                    <strong>‚úÖ So geht es weiter:</strong><br>
                    1. <strong>Kostenfreies Erstgespr√§ch:</strong> Wir besprechen Ihren konkreten Beratungsbedarf<br>
                    2. <strong>F√∂rderf√§higkeit pr√ºfen:</strong> Gemeinsame Pr√ºfung aller Voraussetzungen<br>
                    3. <strong>Antrag stellen:</strong> Ich unterst√ºtze Sie bei der Antragstellung beim BAFA<br>
                    4. <strong>Beratung durchf√ºhren:</strong> Nach Bewilligung starten wir mit der Beratung<br>
                    5. <strong>F√∂rderung erhalten:</strong> Sie erhalten den Zuschuss ausgezahlt
                </div>

                ${formData.vatDeductible === 'nein' ? `
                <div class="alert alert-success">
                    <span style="font-size: 1.5rem;">üí∞</span>
                    <div>
                        <strong>Vorteil f√ºr Sie:</strong> Als nicht-vorsteuerabzugsberechtigtes Unternehmen (Kleinunternehmer nach ¬ß 19 UStG) wird die F√∂rderung seit dem 01.01.2025 auf den Brutto-Betrag berechnet. Das erh√∂ht Ihre effektive F√∂rderung!
                    </div>
                </div>
                ` : ''}
            `;

            document.getElementById('resultContent').innerHTML = resultHTML;
            
            // Move to result step
            document.getElementById('step3').classList.remove('active');
            currentStep = 4;
            document.getElementById('step4').classList.add('active');
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function resetCalculator() {
            currentStep = 1;
            document.querySelectorAll('.step').forEach(step => step.classList.remove('active'));
            document.getElementById('step1').classList.add('active');
            updateProgress();
            
            // Reset form
            document.getElementById('industry').value = '';
            document.getElementById('location').value = '';
            document.getElementById('consultingCost').value = '';
            document.querySelectorAll('input[type="radio"]').forEach(input => input.checked = false);
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize
        updateProgress();
    </script>
</body>
</html>
